(()=>{var f=(s,n)=>()=>(n||s((n={exports:{}}).exports,n),n.exports);var ne=f(V=>{"use strict";var G=V&&V.__assign||function(){return G=Object.assign||function(s){for(var n,t=1,i=arguments.length;t<i;t++){n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[o]=n[o])}return s},G.apply(this,arguments)};Object.defineProperty(V,"__esModule",{value:!0});var de=function(){function s(n){this.debug=!1,this.debug=!1,this.logger=n}return s.prototype.setDebug=function(n){this.debug=n},s.prototype.log=function(n,t,i){var o,e=G(G({},i),{Event:t});this.debug&&console.log(e),(o=this.logger)===null||o===void 0||o.logClientSdkTelemetryEvent(n,e)},s}();V.default=de});var L=f(U=>{U.baseUrl="https://comms.omnichannelengagementhub.com/ams";U.sdkVersion="0.1.0-main.ef0152f"});var z=f(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});h.isReactNative=h.isNode=h.isBrowser=void 0;var fe=function(){return typeof window!="undefined"&&typeof window.document!="undefined"};h.isBrowser=fe;var he=function(){return typeof process!="undefined"&&process.versions!=null&&process.versions.node!=null};h.isNode=he;var ve=function(){return typeof navigator!="undefined"&&navigator.product=="ReactNative"};h.isReactNative=ve;h.default={isBrowser:h.isBrowser,isNode:h.isNode,isReactNative:h.isReactNative}});var K=f(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});var W;(function(s){s.IframeLoaded="IframeLoaded",s.SkypeTokenAuth="SkypeTokenAuth",s.CreateObject="CreateObject",s.UploadDocument="UploadDocument",s.GetViewStatus="GetViewStatus",s.GetView="GetView",s.SendTelemetry="SendTelemetry"})(W||(W={}));J.default=W});var ie=f(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});var X;(function(s){s.None="None",s.Request="Request",s.Response="Response"})(X||(X={}));Q.default=X});var oe=f(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});P.uuidv4=void 0;var we=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var n=Math.random()*16|0,t=s==="x"?n:n&3|8;return t.toString(16)})};P.uuidv4=we});var $=f(b=>{"use strict";var Y=b&&b.__assign||function(){return Y=Object.assign||function(s){for(var n,t=1,i=arguments.length;t<i;t++){n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[o]=n[o])}return s},Y.apply(this,arguments)},p=b&&b.__awaiter||function(s,n,t,i){function o(e){return e instanceof t?e:new t(function(a){a(e)})}return new(t||(t=Promise))(function(e,a){function u(l){try{r(i.next(l))}catch(d){a(d)}}function c(l){try{r(i.throw(l))}catch(d){a(d)}}function r(l){l.done?e(l.value):o(l.value).then(u,c)}r((i=i.apply(s,n||[])).next())})},y=b&&b.__generator||function(s,n){var t={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},i,o,e,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(r){return function(l){return c([r,l])}}function c(r){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,o&&(e=r[0]&2?o.return:r[0]?o.throw||((e=o.return)&&e.call(o),0):o.next)&&!(e=e.call(o,r[1])).done)return e;switch(o=0,e&&(r=[r[0]&2,e.value]),r[0]){case 0:case 1:e=r;break;case 4:return t.label++,{value:r[1],done:!1};case 5:t.label++,o=r[1],r=[0];continue;case 7:r=t.ops.pop(),t.trys.pop();continue;default:if(e=t.trys,!(e=e.length>0&&e[e.length-1])&&(r[0]===6||r[0]===2)){t=0;continue}if(r[0]===3&&(!e||r[1]>e[0]&&r[1]<e[3])){t.label=r[1];break}if(r[0]===6&&t.label<e[1]){t.label=e[1],e=r;break}if(e&&t.label<e[2]){t.label=e[2],t.ops.push(r);break}e[2]&&t.ops.pop(),t.trys.pop();continue}r=n.call(s,t)}catch(l){r=[6,l],o=0}finally{i=e=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(b,"__esModule",{value:!0});var Z=L(),ge=z(),w=K(),E=ie(),pe=oe(),ye=Z.sdkVersion,be=function(){function s(n){var t=this;n===void 0&&(n=void 0),this.origin=window.location.origin,this.requestCallbacks={},this.debug=!1,this.iframeLoaded=!1,this.logger=n,this.onMessageEvent(function(i){return t.handleEvent(i)})}return s.prototype.setDebug=function(n){this.debug=n},s.prototype.initialize=function(n){return p(this,void 0,void 0,function(){return y(this,function(t){switch(t.label){case 0:if(this.debug&&console.log("[FramedClient][initialize]"),!ge.default.isBrowser())throw new Error("FramedMode was used in non-Web platform");return[4,this.loadIframe()];case 1:return t.sent(),this.iframeLoaded||console.error("iframe not loaded"),this.chatToken=n.chatToken,[4,this.skypeTokenAuth()];case 2:return t.sent(),[2]}})})},s.prototype.skypeTokenAuth=function(n){return n===void 0&&(n=null),p(this,void 0,void 0,function(){var t,i=this;return y(this,function(o){switch(o.label){case 0:return this.debug&&console.log("[FramedClient][skypeAuth]"),t={chatToken:n||this.chatToken},[4,this.loadIframe()];case 1:return o.sent(),[2,new Promise(function(e,a){i.postMessage(E.default.Request,w.default.SkypeTokenAuth,t,e,a)})]}})})},s.prototype.createObject=function(n,t,i){return i===void 0&&(i=null),p(this,void 0,void 0,function(){var o,e=this;return y(this,function(a){switch(a.label){case 0:return this.debug&&console.log("[FramedClient][createObject]"),o={id:n,file:t,chatToken:i||this.chatToken},[4,this.loadIframe()];case 1:return a.sent(),[2,new Promise(function(u,c){e.postMessage(E.default.Request,w.default.CreateObject,o,u,c)})]}})})},s.prototype.uploadDocument=function(n,t,i){return i===void 0&&(i=null),p(this,void 0,void 0,function(){var o,e=this;return y(this,function(a){switch(a.label){case 0:return this.debug&&console.log("[FramedClient][uploadDocument]"),o={documentId:n,file:t,chatToken:i||this.chatToken},[4,this.loadIframe()];case 1:return a.sent(),[2,new Promise(function(u,c){e.postMessage(E.default.Request,w.default.UploadDocument,o,u,c)})]}})})},s.prototype.getViewStatus=function(n,t){return t===void 0&&(t=null),p(this,void 0,void 0,function(){var i,o=this;return y(this,function(e){switch(e.label){case 0:return i={fileMetadata:n,chatToken:t||this.chatToken},[4,this.loadIframe()];case 1:return e.sent(),[2,new Promise(function(a,u){o.postMessage(E.default.Request,w.default.GetViewStatus,i,a,u)})]}})})},s.prototype.getView=function(n,t,i){return i===void 0&&(i=null),p(this,void 0,void 0,function(){var o,e=this;return y(this,function(a){switch(a.label){case 0:return o={fileMetadata:n,viewLocation:t,chatToken:i||this.chatToken},[4,this.loadIframe()];case 1:return a.sent(),[2,new Promise(function(u,c){e.postMessage(E.default.Request,w.default.GetView,o,u,c)})]}})})},s.prototype.fetchBlob=function(n){return p(this,void 0,void 0,function(){var t,i,o;return y(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,fetch(n)];case 1:return t=e.sent(),[4,t.blob()];case 2:return i=e.sent(),[2,i];case 3:throw o=e.sent(),console.log(o),new Error("fetchBlob");case 4:return[2]}})})},s.prototype.onMessageEvent=function(n){window.addEventListener("message",n,!0)},s.prototype.postMessage=function(n,t,i,o,e){i===void 0&&(i={}),o===void 0&&(o=function(u){return{}}),e===void 0&&(e=function(u){return{}});var a=pe.uuidv4();if(this.requestCallbacks[a]={resolve:o,reject:e},!this.targetWindow){console.error("Target window not found!");return}this.targetWindow.postMessage(Y({requestId:a,eventType:n,eventName:t},i),"*")},s.prototype.handleEvent=function(n){var t;return p(this,void 0,void 0,function(){var i;return y(this,function(o){return n.origin!==this.origin&&!Z.baseUrl.includes(n.origin)?[2]:(this.debug&&console.log(n),n.source&&(this.targetWindow=n.source),n.data.eventType===E.default.Response&&(this.debug&&console.log("[FramedClient][Response]"),i=n.data,n.data.eventName===w.default.SkypeTokenAuth?(this.requestCallbacks[i.requestId].resolve(),delete this.requestCallbacks[i.requestId]):n.data.eventName===w.default.CreateObject?(this.requestCallbacks[i.requestId].resolve(i.response),delete this.requestCallbacks[i.requestId]):n.data.eventName===w.default.UploadDocument?(this.requestCallbacks[i.requestId].resolve(i.response),delete this.requestCallbacks[i.requestId]):n.data.eventName===w.default.GetViewStatus?(this.requestCallbacks[i.requestId].resolve(i.response),delete this.requestCallbacks[i.requestId]):n.data.eventName===w.default.GetView?(this.requestCallbacks[i.requestId].resolve(i.response),delete this.requestCallbacks[i.requestId]):n.data.eventName===w.default.SendTelemetry&&((t=this.logger)===null||t===void 0||t.log(i.logLevel,i.logData.Event,i.logData))),[2])})})},s.prototype.loadIframe=function(){return p(this,void 0,void 0,function(){var n,t=this;return y(this,function(i){return n="Microsoft_Omnichannel_AMSClient_Iframe_Window",[2,new Promise(function(o,e){var a=Array.from(document.getElementsByTagName("iframe")),u=a.filter(function(r){return r.id==n});if(u.length)return o();var c=document.createElement("iframe");c.id=n,c.src=Z.baseUrl+"/"+ye+"/iframe.html?debug="+t.debug+"&telemetry=true",c.addEventListener("load",function(){t.debug&&console.log("iframe loaded!"),t.iframeLoaded=!0,o()}),c.addEventListener("error",function(){e()}),document.head.append(c)})]})})},s}();b.default=be});var ae=f(m=>{"use strict";var A=m&&m.__assign||function(){return A=Object.assign||function(s){for(var n,t=1,i=arguments.length;t<i;t++){n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[o]=n[o])}return s},A.apply(this,arguments)},x=m&&m.__awaiter||function(s,n,t,i){function o(e){return e instanceof t?e:new t(function(a){a(e)})}return new(t||(t=Promise))(function(e,a){function u(l){try{r(i.next(l))}catch(d){a(d)}}function c(l){try{r(i.throw(l))}catch(d){a(d)}}function r(l){l.done?e(l.value):o(l.value).then(u,c)}r((i=i.apply(s,n||[])).next())})},j=m&&m.__generator||function(s,n){var t={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},i,o,e,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(r){return function(l){return c([r,l])}}function c(r){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,o&&(e=r[0]&2?o.return:r[0]?o.throw||((e=o.return)&&e.call(o),0):o.next)&&!(e=e.call(o,r[1])).done)return e;switch(o=0,e&&(r=[r[0]&2,e.value]),r[0]){case 0:case 1:e=r;break;case 4:return t.label++,{value:r[1],done:!1};case 5:t.label++,o=r[1],r=[0];continue;case 7:r=t.ops.pop(),t.trys.pop();continue;default:if(e=t.trys,!(e=e.length>0&&e[e.length-1])&&(r[0]===6||r[0]===2)){t=0;continue}if(r[0]===3&&(!e||r[1]>e[0]&&r[1]<e[3])){t.label=r[1];break}if(r[0]===6&&t.label<e[1]){t.label=e[1],e=r;break}if(e&&t.label<e[2]){t.label=e[2],t.ops.push(r);break}e[2]&&t.ops.pop(),t.trys.pop();continue}r=n.call(s,t)}catch(l){r=[6,l],o=0}finally{i=e=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(m,"__esModule",{value:!0});var v;(function(s){s.Accept="Accept",s.AcceptEncoding="Accept-Encoding",s.BehaviorOverride="BehaviorOverride",s.Authorization="Authorization",s.ClientVersion="X-MS-Client-Version",s.ContentType="Content-Type"})(v||(v={}));var O;(function(s){s.applicationFormUrlEncoded="application/x-www-form-urlencoded",s.applicationJson="application/json"})(O||(O={}));var T;(function(s){s.Expired="expired",s.Failed="failed",s.InProgress="in progress",s.Malware="malware",s.Ready="ready"})(T||(T={}));var se=["jpeg","jpg","gif","png","bmp","tiff","jfif"],D=function(s){s.regionGTMS||(s.regionGTMS={ams:"https://us-api.asm.skype.com"})},N=function(s){var n;return n={},n[v.Authorization]="skype_token "+s,n[v.ClientVersion]="os=Windows; osVer=10; proc=Win32; lcid=en-us; deviceType=1; country=IN; clientName=swc; clientVer=912/0.106.0.34//swc",n},me=function(s){return x(void 0,void 0,void 0,function(){var n,t,i,o,e,a,u;return j(this,function(c){switch(c.label){case 0:console.log("[API][skypeTokenAuth]"),D(s),n=((u=s.regionGTMS)===null||u===void 0?void 0:u.ams)+"/v1/skypetokenauth",t=(a={},a[v.Authorization]="skype_token "+s.token,a[v.Accept]=O.applicationJson,a[v.BehaviorOverride]="redirectAs404",a[v.ContentType]=O.applicationFormUrlEncoded,a),i={headers:t,method:"POST",body:"skypetoken="+s.token},c.label=1;case 1:return c.trys.push([1,3,,4]),[4,fetch(n,i)];case 2:return o=c.sent(),[2,o];case 3:throw e=c.sent(),console.log(e),new Error("AMSAuth");case 4:return[2]}})})},_e=function(s,n,t){return x(void 0,void 0,void 0,function(){var i,o,e,a,u,c,r,l,d,g,B;return j(this,function(k){switch(k.label){case 0:console.log("[API][createObject]"),i=(d={},d[s]=["read"],d),o={filename:n.name,permissions:i,type:n.type.includes("image")?"pish/image":"sharing/file"},D(t),e=((B=t==null?void 0:t.regionGTMS)===null||B===void 0?void 0:B.ams)+"/v1/objects",a=A(A({},N(t.token)),(g={},g[v.ContentType]=O.applicationJson,g)),u={headers:a,method:"POST",body:JSON.stringify(o),credentials:"include"},k.label=1;case 1:return k.trys.push([1,4,,5]),[4,fetch(e,u)];case 2:return c=k.sent(),[4,c.json()];case 3:return r=k.sent(),[2,r];case 4:throw l=k.sent(),console.log(l),new Error("AMSCreateObjectFailed");case 5:return[2]}})})},Ce=function(s,n,t){return x(void 0,void 0,void 0,function(){var i,o,e,a,u,c,r;return j(this,function(l){switch(l.label){case 0:console.log("[API][uploadDocument]"),D(t),i=((r=t==null?void 0:t.regionGTMS)===null||r===void 0?void 0:r.ams)+"/v1/objects/"+s+"/content/"+(n.type.includes("image")?"imgpsh":"original"),o=A(A({},N(t.token)),(c={},c[v.ContentType]=O.applicationFormUrlEncoded,c)),e={headers:o,method:"PUT",body:n.data?n.data:n},l.label=1;case 1:return l.trys.push([1,3,,4]),[4,fetch(i,e)];case 2:return l.sent(),a={name:n.name,size:n.size,type:n.type,id:s,url:i,fileSharingProtocolType:0},[2,a];case 3:throw u=l.sent(),console.log(u),new Error("AMSUploadDocumentFailed");case 4:return[2]}})})},Me=function(s,n){return x(void 0,void 0,void 0,function(){var t,i,o,e,a,u,c,r,l,d;return j(this,function(g){switch(g.label){case 0:console.log("[API][getViewStatus]"),D(n),t=((d=n==null?void 0:n.regionGTMS)===null||d===void 0?void 0:d.ams)+"/v1/objects/"+s.id+"/views/"+(se.includes(s.type)?"imgpsh_fullsize_anim":"original")+"/status",i=N(n.token),o={headers:i,method:"GET"},g.label=1;case 1:return g.trys.push([1,4,,5]),[4,fetch(t,o)];case 2:return e=g.sent(),[4,e.json()];case 3:if(a=g.sent(),u=a.content_state,c=a.view_state,r=a.view_location,!r)throw new Error("view_location is empty");if(c&&c!==T.Ready.toString()&&console.error("view_state is not ready"),u===T.Expired.toString())throw new Error("content_state is expired");return[2,a];case 4:throw l=g.sent(),console.log(l),new Error("AMSGetViewStatusFailed");case 5:return[2]}})})},Se=function(s,n,t){return x(void 0,void 0,void 0,function(){var i,o,e,a,u,c;return j(this,function(r){switch(r.label){case 0:console.log("[API][getView]"),D(t),i=n,o=N(t.token),se.includes(s.type)&&(o[v.Accept]="image/webp,image/ *,*/*;q=0.8",o[v.AcceptEncoding]="gzip, deflate, sdch, br"),e={headers:o,method:"GET"},r.label=1;case 1:return r.trys.push([1,4,,5]),[4,fetch(i,e)];case 2:return a=r.sent(),[4,a.blob()];case 3:return u=r.sent(),[2,u];case 4:throw c=r.sent(),console.log(c),new Error("AMSGetViewFailed");case 5:return[2]}})})};m.default={skypeTokenAuth:me,createObject:_e,uploadDocument:Ce,getViewStatus:Me,getView:Se}});var ue=f(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});var H;(function(s){s.INFO="INFO",s.DEBUG="DEBUG",s.WARN="WARN",s.ERROR="ERROR",s.LOG="LOG"})(H||(H={}));ee.default=H});var te=f(M=>{"use strict";var _=M&&M.__awaiter||function(s,n,t,i){function o(e){return e instanceof t?e:new t(function(a){a(e)})}return new(t||(t=Promise))(function(e,a){function u(l){try{r(i.next(l))}catch(d){a(d)}}function c(l){try{r(i.throw(l))}catch(d){a(d)}}function r(l){l.done?e(l.value):o(l.value).then(u,c)}r((i=i.apply(s,n||[])).next())})},C=M&&M.__generator||function(s,n){var t={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},i,o,e,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(r){return function(l){return c([r,l])}}function c(r){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,o&&(e=r[0]&2?o.return:r[0]?o.throw||((e=o.return)&&e.call(o),0):o.next)&&!(e=e.call(o,r[1])).done)return e;switch(o=0,e&&(r=[r[0]&2,e.value]),r[0]){case 0:case 1:e=r;break;case 4:return t.label++,{value:r[1],done:!1};case 5:t.label++,o=r[1],r=[0];continue;case 7:r=t.ops.pop(),t.trys.pop();continue;default:if(e=t.trys,!(e=e.length>0&&e[e.length-1])&&(r[0]===6||r[0]===2)){t=0;continue}if(r[0]===3&&(!e||r[1]>e[0]&&r[1]<e[3])){t.label=r[1];break}if(r[0]===6&&t.label<e[1]){t.label=e[1],e=r;break}if(e&&t.label<e[2]){t.label=e[2],t.ops.push(r);break}e[2]&&t.ops.pop(),t.trys.pop();continue}r=n.call(s,t)}catch(l){r=[6,l],o=0}finally{i=e=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(M,"__esModule",{value:!0});var F=ae(),R=ue(),I=K(),ke=z(),q=L(),Ee=function(){function s(n){n===void 0&&(n=void 0),this.debug=!1,this.logger=n,ke.default.isBrowser()&&console.error("FramedMode should be used on Web platform")}return s.prototype.setDebug=function(n){this.debug=n},s.prototype.initialize=function(n){return _(this,void 0,void 0,function(){return C(this,function(t){switch(t.label){case 0:return this.debug&&console.log("[FramedlessClient][initialize]"),this.chatToken=n.chatToken,[4,this.skypeTokenAuth()];case 1:return t.sent(),[2]}})})},s.prototype.skypeTokenAuth=function(n){var t,i,o;return n===void 0&&(n=null),_(this,void 0,void 0,function(){var e,a;return C(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,F.default.skypeTokenAuth(n||this.chatToken)];case 1:return e=u.sent(),e.ok||(t=this.logger)===null||t===void 0||t.log(R.default.ERROR,I.default.SkypeTokenAuth,{ChatId:n?n.chatId:(i=this.chatToken)===null||i===void 0?void 0:i.chatId,AMSClientVersion:q.sdkVersion,ExceptionDetails:{status:e.status}}),[2,e];case 2:throw a=u.sent(),(o=this.logger)===null||o===void 0||o.log(R.default.ERROR,I.default.SkypeTokenAuth,{ChatId:n?n.chatId:this.chatToken.chatId,AMSClientVersion:q.sdkVersion,ExceptionDetails:a}),new Error("skypeTokenAuth");case 3:return[2]}})})},s.prototype.createObject=function(n,t,i){var o;return i===void 0&&(i=null),_(this,void 0,void 0,function(){var e,a;return C(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,F.default.createObject(n,t,i||this.chatToken)];case 1:return e=u.sent(),[2,e];case 2:throw a=u.sent(),(o=this.logger)===null||o===void 0||o.log(R.default.ERROR,I.default.CreateObject,{ChatId:i?i.chatId:this.chatToken.chatId,AMSClientVersion:q.sdkVersion,ExceptionDetails:a}),new Error("createObject");case 3:return[2]}})})},s.prototype.uploadDocument=function(n,t,i){var o;return i===void 0&&(i=null),_(this,void 0,void 0,function(){var e,a;return C(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,F.default.uploadDocument(n,t,i||this.chatToken)];case 1:return e=u.sent(),[2,e];case 2:throw a=u.sent(),(o=this.logger)===null||o===void 0||o.log(R.default.ERROR,I.default.UploadDocument,{ChatId:i?i.chatId:this.chatToken.chatId,AMSClientVersion:q.sdkVersion,ExceptionDetails:a}),new Error("uploadDocument");case 3:return[2]}})})},s.prototype.getViewStatus=function(n,t){var i;return t===void 0&&(t=null),_(this,void 0,void 0,function(){var o,e;return C(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,F.default.getViewStatus(n,t||this.chatToken)];case 1:return o=a.sent(),[2,o];case 2:throw e=a.sent(),(i=this.logger)===null||i===void 0||i.log(R.default.ERROR,I.default.GetViewStatus,{ChatId:t?t.chatId:this.chatToken.chatId,AMSClientVersion:q.sdkVersion,ExceptionDetails:e}),new Error("getViewStatus");case 3:return[2]}})})},s.prototype.getView=function(n,t,i){var o;return i===void 0&&(i=null),_(this,void 0,void 0,function(){var e,a;return C(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,F.default.getView(n,t,i||this.chatToken)];case 1:return e=u.sent(),[2,e];case 2:throw a=u.sent(),(o=this.logger)===null||o===void 0||o.log(R.default.ERROR,I.default.GetView,{ChatId:i?i.chatId:this.chatToken.chatId,AMSClientVersion:q.sdkVersion,ExceptionDetails:a}),new Error("getView");case 3:return[2]}})})},s.prototype.fetchBlob=function(n){return _(this,void 0,void 0,function(){var t,i,o;return C(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,fetch(n)];case 1:return t=e.sent(),[4,t.blob()];case 2:return i=e.sent(),[2,i];case 3:throw o=e.sent(),console.log(o),new Error("fetchBlob");case 4:return[2]}})})},s}();M.default=Ee});var le=f(S=>{"use strict";var Ae=S&&S.__awaiter||function(s,n,t,i){function o(e){return e instanceof t?e:new t(function(a){a(e)})}return new(t||(t=Promise))(function(e,a){function u(l){try{r(i.next(l))}catch(d){a(d)}}function c(l){try{r(i.throw(l))}catch(d){a(d)}}function r(l){l.done?e(l.value):o(l.value).then(u,c)}r((i=i.apply(s,n||[])).next())})},Oe=S&&S.__generator||function(s,n){var t={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},i,o,e,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(r){return function(l){return c([r,l])}}function c(r){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,o&&(e=r[0]&2?o.return:r[0]?o.throw||((e=o.return)&&e.call(o),0):o.next)&&!(e=e.call(o,r[1])).done)return e;switch(o=0,e&&(r=[r[0]&2,e.value]),r[0]){case 0:case 1:e=r;break;case 4:return t.label++,{value:r[1],done:!1};case 5:t.label++,o=r[1],r=[0];continue;case 7:r=t.ops.pop(),t.trys.pop();continue;default:if(e=t.trys,!(e=e.length>0&&e[e.length-1])&&(r[0]===6||r[0]===2)){t=0;continue}if(r[0]===3&&(!e||r[1]>e[0]&&r[1]<e[3])){t.label=r[1];break}if(r[0]===6&&t.label<e[1]){t.label=e[1],e=r;break}if(e&&t.label<e[2]){t.label=e[2],t.ops.push(r);break}e[2]&&t.ops.pop(),t.trys.pop();continue}r=n.call(s,t)}catch(l){r=[6,l],o=0}finally{i=e=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(S,"__esModule",{value:!0});var Re=ne(),Ie=$(),qe=te(),Ve=function(s){return Ae(void 0,void 0,void 0,function(){var n,t;return Oe(this,function(i){return s.debug&&console.log("[createAMSClient] "+(s.framedMode?"FramedClient":"FramedlessClient")),n=new Re.default(s.logger),t=s.framedMode?new Ie.default(n):new qe.default(n),s.debug&&t.setDebug(s.debug||!1),[2,t]})})};S.default=Ve});var De=f(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});var ce=le(),xe=te(),je=$();re.default=ce.default;(function(){if(typeof window===void 0)throw new Error("window object not found");"Microsoft"in window||(window.Microsoft={}),"CRM"in window.Microsoft||(window.Microsoft.CRM={}),"Omnichannel"in window.Microsoft.CRM||(window.Microsoft.CRM.Omnichannel={}),"AMSClient"in window.Microsoft.CRM.Omnichannel||(window.Microsoft.CRM.Omnichannel.AMS={SDK:{createAMSClient:ce.default,FramedClient:je.default,FramedlessClient:xe.default}})})()});De();})();
